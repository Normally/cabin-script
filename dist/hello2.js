/*! withcabin.com 0.5.7 */
!async function(e,t,n){n="{"===n[0]?"ping.withcabin.com":n;const o=e.navigator;if(o.userAgent.search(/(bot|spider|crawl)/gi)>-1)return;const a="disableCabin",i="addEventListener",r="pushState",s="sendBeacon",c="timing",d="localStorage",l="Cabin is",h=["unblocked","blocked"],p=console.log,u=t=>{let n=parseFloat(e[d].getItem(h[1]));return n&&t&&p(l+" blocked on "+b.hostname+" - Use cabin.blockMe(0) to unblock"),n},m=(e,t)=>{if(u(t))return new Promise(e=>e());const n=new XMLHttpRequest;return new Promise((t,o)=>{n.onreadystatechange=()=>{4===n.readyState&&t(parseFloat(n.response))},n.open("GET",e),n.send()})},b=e.location,f=e.performance,v=e.screen,w="https://"+n,g=()=>Date.now(),y=()=>$+=g()-C,E=e=>Object.keys(e).map(t=>`${t}=${encodeURIComponent(e[t])}`).join("&"),k=(e,t)=>{if(!u())return o[s]?void o[s](e,JSON.stringify(t)):m(`${e}?${E(t)}`)};let S,C,$,I;const L=async()=>{if(e[a])return void delete e[a];delete e[a],S=g(),C=S,$=0;let n=f&&f[c]?f[c].domContentLoadedEventEnd-f[c].navigationStart:0;I={r:t.referrer,w:v.width,s:0,t:n>0?n:0,p:b.href};let o=b.hostname,i=b.pathname;await Promise.all([m(w+"/cache?"+o).then(e=>{I.u=e}),m(w+"/cache?"+o+i).then(e=>{I.up=e})]),m(w+"/hello?"+E(I),!0)};t[i]("visibilitychange",()=>{t.hidden?y():C=g()});const M=async()=>{e[a]||(!t.hidden&&y(),await k(w+"/duration",{d:$,n:S,p:b.href}))};e[i]("beforeunload",M);e.history[r]=function(t){let n=history[t];return function(){let o,a=n.apply(this,arguments);return"function"==typeof Event?o=new Event(t):(o=doc.createEvent("Event"),o.initEvent(t,!0,!0)),o.arguments=arguments,e.dispatchEvent(o),a}}(r),e[i](r,()=>{M(),L()}),e[i]("popstate",()=>{M(),L()}),e.cabin={async event(e,t){y();const n={e:e,p:b.href,d:$,n:S};await k(w+"/event",n),t&&t()},blockMe(t){t=t?1:0,e[d].setItem(h[1],t),p(l+" now "+h[t]+" on "+b.hostname)}},L()}(window,document,"{{.Host}}");